"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
Object.defineProperty(exports, "serialize", {
  enumerable: true,
  get: function () {
    return _serialize.default;
  }
});
var _jsan = _interopRequireDefault(require("jsan"));
var _serialize = _interopRequireDefault(require("./serialize"));
var _options = _interopRequireDefault(require("../constants/options"));
function _default(immutable, refs, customReplacer, customReviver) {
  return {
    stringify: function (data) {
      return _jsan.default.stringify(data, (0, _serialize.default)(immutable, refs, customReplacer, customReviver).replacer, undefined, _options.default);
    },
    parse: function (data) {
      return _jsan.default.parse(data, (0, _serialize.default)(immutable, refs, customReplacer, customReviver).reviver);
    },
    serialize: _serialize.default
  };
}