{"version":3,"file":"devtools.js","sourceRoot":"","sources":["../src/devtools.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  EnhancedStore,\n  LiftedAction,\n  LiftedState,\n  PerformAction,\n} from \"@redux-devtools/instrument\";\nimport {\n  ActionCreatorObject,\n  ErrorAction,\n  evalAction,\n  catchErrors,\n  getActionsArray,\n  getLocalFilter,\n  isFiltered,\n  filterStagedActions,\n  filterState,\n  LocalFilter,\n  State,\n} from \"@redux-devtools/utils\";\nimport {\n  DevToolsPluginClient,\n  getDevToolsPluginClientAsync,\n} from \"expo/devtools\";\nimport { stringify, parse } from \"jsan\";\nimport {\n  Action,\n  ActionCreator,\n  Reducer,\n  StoreEnhancer,\n  StoreEnhancerStoreCreator,\n} from \"redux\";\n\nimport configureStore from \"./configureStore\";\n\nfunction async(fn: () => unknown) {\n  setTimeout(fn, 0);\n}\n\nfunction str2array(\n  str: string | readonly string[] | undefined,\n): readonly string[] | undefined {\n  return typeof str === \"string\"\n    ? [str]\n    : str && str.length > 0\n      ? str\n      : undefined;\n}\n\nfunction getRandomId() {\n  return Math.random().toString(36).substring(2);\n}\n\ninterface Filters {\n  /**\n   * @deprecated Use actionsDenylist instead.\n   */\n  readonly blacklist?: string | readonly string[];\n  /**\n   * @deprecated Use actionsAllowlist instead.\n   */\n  readonly whitelist?: string | readonly string[];\n  readonly denylist?: string | readonly string[];\n  readonly allowlist?: string | readonly string[];\n}\n\ninterface Options<S, A extends Action<string>> {\n  readonly realtime?: boolean;\n  readonly maxAge?: number;\n  readonly trace?: boolean | ((action: A) => string | undefined);\n  readonly traceLimit?: number;\n  readonly shouldHotReload?: boolean;\n  readonly shouldRecordChanges?: boolean;\n  readonly shouldStartLocked?: boolean;\n  readonly pauseActionType?: unknown;\n  readonly name?: string;\n  readonly filters?: Filters;\n  /**\n   * @deprecated Use actionsDenylist instead.\n   */\n  readonly actionsBlacklist?: string | readonly string[];\n  /**\n   * @deprecated Use actionsAllowlist instead.\n   */\n  readonly actionsWhitelist?: string | readonly string[];\n  readonly actionsDenylist?: string | readonly string[];\n  readonly actionsAllowlist?: string | readonly string[];\n  readonly suppressConnectErrors?: boolean;\n  readonly startOn?: string | readonly string[];\n  readonly stopOn?: string | readonly string[];\n  readonly sendOn?: string | readonly string[];\n  readonly sendOnError?: number;\n  readonly sendTo?: string;\n  readonly id?: string;\n  readonly actionCreators?: {\n    [key: string]: ActionCreator<Action<string>>;\n  };\n  readonly stateSanitizer?: ((state: S, index?: number) => S) | undefined;\n  readonly actionSanitizer?:\n    | (<A extends Action<string>>(action: A, id?: number) => A)\n    | undefined;\n}\n\ninterface MessageToRelay {\n  type: \"STATE\" | \"ACTION\" | \"START\" | \"STOP\" | \"ERROR\";\n  id: string;\n  name: string | undefined;\n  instanceId: string;\n  payload?: string;\n  action?: string | ActionCreatorObject[];\n  isExcess?: boolean | undefined;\n  nextActionId?: number | undefined;\n}\n\ninterface ImportMessage {\n  readonly type: \"IMPORT\";\n  readonly state: string;\n}\n\ninterface SyncMessage {\n  readonly type: \"SYNC\";\n  readonly state: string;\n  readonly id: string | undefined;\n  readonly instanceId: string | number;\n}\n\ninterface UpdateMessage {\n  readonly type: \"UPDATE\";\n}\n\ninterface StartMessage {\n  readonly type: \"START\";\n}\n\ninterface StopMessage {\n  readonly type: \"STOP\";\n}\n\ninterface DisconnectedMessage {\n  readonly type: \"DISCONNECTED\";\n}\n\ninterface ActionMessage {\n  readonly type: \"ACTION\";\n  readonly action: string | { args: string[]; rest: string; selected: number };\n}\n\ninterface DispatchMessage<S, A extends Action<string>> {\n  readonly type: \"DISPATCH\";\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  readonly action: LiftedAction<S, A, {}>;\n}\n\ntype Message<S, A extends Action<string>> =\n  | ImportMessage\n  | SyncMessage\n  | UpdateMessage\n  | StartMessage\n  | StopMessage\n  | DisconnectedMessage\n  | ActionMessage\n  | DispatchMessage<S, A>;\n\nclass DevToolsEnhancer<S, A extends Action<string>> {\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  store!: EnhancedStore<S, A, {}>;\n  filters: LocalFilter | undefined;\n  instanceId?: string;\n  devToolsPluginClient?: DevToolsPluginClient;\n  sendTo?: string;\n  instanceName: string | undefined;\n  appInstanceId!: string;\n  stateSanitizer: ((state: S, index?: number) => S) | undefined;\n  actionSanitizer: ((action: A, id?: number) => A) | undefined;\n  isExcess?: boolean;\n  actionCreators?: (() => ActionCreatorObject[]) | ActionCreatorObject[];\n  isMonitored?: boolean;\n  lastErrorMsg?: string | Event;\n  started?: boolean;\n  suppressConnectErrors!: boolean;\n  startOn: readonly string[] | undefined;\n  stopOn: readonly string[] | undefined;\n  sendOn: readonly string[] | undefined;\n  sendOnError: number | undefined;\n  channel?: string;\n  errorCounts: { [errorName: string]: number } = {};\n  lastAction?: unknown;\n  paused?: boolean;\n  locked?: boolean;\n\n  getInstanceId() {\n    if (!this.instanceId) {\n      this.instanceId = getRandomId();\n    }\n    return this.instanceId;\n  }\n\n  getLiftedStateRaw() {\n    return this.store.liftedStore.getState();\n  }\n\n  getLiftedState() {\n    return filterStagedActions(this.getLiftedStateRaw(), this.filters);\n  }\n\n  send = () => {\n    if (!this.sendTo) {\n      console.log(\n        \"redux-devtools-expo-dev-plugin: Cannot send message from sendOn or sendOnError without a sendTo URL being provided\",\n      );\n      return;\n    }\n\n    try {\n      fetch(this.sendTo, {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          type: \"STATE\",\n          id: this.getInstanceId(),\n          name: this.instanceName,\n          payload: stringify(this.getLiftedState()),\n        }),\n      }).catch(function (err) {\n        console.log(err);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  relay(\n    type: \"STATE\" | \"ACTION\" | \"START\" | \"STOP\" | \"ERROR\",\n    state?: State | S | string,\n    action?: PerformAction<A> | ActionCreatorObject[],\n    nextActionId?: number,\n  ) {\n    const message: MessageToRelay = {\n      type,\n      id: this.getInstanceId(),\n      name: this.instanceName,\n      instanceId: this.appInstanceId,\n    };\n    if (state) {\n      message.payload =\n        type === \"ERROR\"\n          ? (state as string)\n          : stringify(\n              filterState(\n                state as State,\n                type,\n                this.filters,\n                this.stateSanitizer as (\n                  state: unknown,\n                  index?: number,\n                ) => unknown,\n                this.actionSanitizer as\n                  | ((action: Action<string>, id: number) => Action)\n                  | undefined,\n                nextActionId!,\n              ),\n            );\n    }\n    if (type === \"ACTION\") {\n      message.action = stringify(\n        !this.actionSanitizer\n          ? action\n          : this.actionSanitizer(\n              (action as PerformAction<A>).action,\n              nextActionId! - 1,\n            ),\n      );\n      message.isExcess = this.isExcess;\n      message.nextActionId = nextActionId;\n    } else if (action) {\n      message.action = action as ActionCreatorObject[];\n    }\n    this.devToolsPluginClient?.sendMessage(\"log\", message);\n  }\n\n  dispatchRemotely(\n    action: string | { args: string[]; rest: string; selected: number },\n  ) {\n    try {\n      const result = evalAction(\n        action,\n        this.actionCreators as ActionCreatorObject[],\n      );\n      this.store.dispatch(result);\n    } catch (e: unknown) {\n      this.relay(\"ERROR\", (e as Error).message);\n    }\n  }\n\n  handleMessages = (message: Message<S, A>) => {\n    if (\n      message.type === \"IMPORT\" ||\n      (message.type === \"SYNC\" &&\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        this.instanceId &&\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        message.id !== this.instanceId)\n    ) {\n      this.store.liftedStore.dispatch({\n        type: \"IMPORT_STATE\",\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        nextLiftedState: parse(message.state) as LiftedState<S, A, {}>,\n      });\n    } else if (message.type === \"UPDATE\") {\n      this.relay(\"STATE\", this.getLiftedState());\n    } else if (message.type === \"START\") {\n      this.isMonitored = true;\n      if (typeof this.actionCreators === \"function\")\n        this.actionCreators = this.actionCreators();\n      this.relay(\"STATE\", this.getLiftedState(), this.actionCreators);\n    } else if (message.type === \"STOP\" || message.type === \"DISCONNECTED\") {\n      this.isMonitored = false;\n      this.relay(\"STOP\");\n    } else if (message.type === \"ACTION\") {\n      this.dispatchRemotely(message.action);\n    } else if (message.type === \"DISPATCH\") {\n      this.store.liftedStore.dispatch(message.action);\n    }\n  };\n\n  sendError = (errorAction: ErrorAction) => {\n    // Prevent flooding\n    if (errorAction.message && errorAction.message === this.lastErrorMsg)\n      return;\n    this.lastErrorMsg = errorAction.message;\n\n    async(() => {\n      this.store.dispatch(errorAction as A);\n      if (!this.started) this.send();\n    });\n  };\n\n  init(options: Options<S, A>) {\n    this.instanceName = options.name;\n    this.appInstanceId = getRandomId();\n    const { blacklist, whitelist, denylist, allowlist } = options.filters || {};\n    this.filters = getLocalFilter({\n      actionsDenylist:\n        denylist ??\n        options.actionsDenylist ??\n        blacklist ??\n        options.actionsBlacklist,\n      actionsAllowlist:\n        allowlist ??\n        options.actionsAllowlist ??\n        whitelist ??\n        options.actionsWhitelist,\n    });\n\n    this.suppressConnectErrors =\n      options.suppressConnectErrors !== undefined\n        ? options.suppressConnectErrors\n        : true;\n\n    this.startOn = str2array(options.startOn);\n    this.stopOn = str2array(options.stopOn);\n    this.sendOn = str2array(options.sendOn);\n    this.sendOnError = options.sendOnError;\n    this.sendTo = options.sendTo;\n    if (this.sendOnError === 1) catchErrors(this.sendError);\n\n    if (options.actionCreators)\n      this.actionCreators = () => getActionsArray(options.actionCreators!);\n    this.stateSanitizer = options.stateSanitizer;\n    this.actionSanitizer = options.actionSanitizer;\n  }\n\n  stop = async () => {\n    this.started = false;\n    this.isMonitored = false;\n    if (!this.devToolsPluginClient) return;\n    await this.devToolsPluginClient.closeAsync();\n    this.devToolsPluginClient = undefined;\n  };\n\n  start = () => {\n    if (this.started) return;\n\n    (async () => {\n      try {\n        this.devToolsPluginClient = await getDevToolsPluginClientAsync(\n          \"redux-devtools-expo-dev-plugin\",\n        );\n\n        this.devToolsPluginClient.addMessageListener(\n          \"respond\",\n          (data: Message<S, A>) => {\n            this.handleMessages(data);\n          },\n        );\n\n        this.started = true;\n        this.relay(\"START\");\n      } catch (e) {\n        console.warn(\n          \"Failed to setup Expo dev plugin client from Redux DevTools enhancer: \" +\n            e.toString(),\n        );\n        this.stop();\n      }\n    })();\n  };\n\n  checkForReducerErrors = (liftedState = this.getLiftedStateRaw()) => {\n    if (liftedState.computedStates[liftedState.currentStateIndex].error) {\n      if (this.started)\n        this.relay(\"STATE\", filterStagedActions(liftedState, this.filters));\n      else this.send();\n      return true;\n    }\n    return false;\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  monitorReducer = (state = {}, action: LiftedAction<S, A, {}>) => {\n    this.lastAction = action.type;\n    if (!this.started && this.sendOnError === 2 && this.store.liftedStore)\n      async(this.checkForReducerErrors);\n    else if ((action as PerformAction<A>).action) {\n      if (\n        this.startOn &&\n        !this.started &&\n        this.startOn.indexOf((action as PerformAction<A>).action.type) !== -1\n      )\n        async(this.start);\n      else if (\n        this.stopOn &&\n        this.started &&\n        this.stopOn.indexOf((action as PerformAction<A>).action.type) !== -1\n      )\n        async(this.stop);\n      else if (\n        this.sendOn &&\n        !this.started &&\n        this.sendOn.indexOf((action as PerformAction<A>).action.type) !== -1\n      )\n        async(this.send);\n    }\n    return state;\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  handleChange(state: S, liftedState: LiftedState<S, A, {}>, maxAge: number) {\n    if (this.checkForReducerErrors(liftedState)) return;\n\n    if (this.lastAction === \"PERFORM_ACTION\") {\n      const nextActionId = liftedState.nextActionId;\n      const liftedAction = liftedState.actionsById[nextActionId - 1];\n      if (isFiltered(liftedAction.action, this.filters)) return;\n      this.relay(\"ACTION\", state, liftedAction, nextActionId);\n      if (!this.isExcess && maxAge)\n        this.isExcess = liftedState.stagedActionIds.length >= maxAge;\n    } else {\n      if (this.lastAction === \"JUMP_TO_STATE\") return;\n      if (this.lastAction === \"PAUSE_RECORDING\") {\n        this.paused = liftedState.isPaused;\n      } else if (this.lastAction === \"LOCK_CHANGES\") {\n        this.locked = liftedState.isLocked;\n      }\n      if (this.paused || this.locked) {\n        if (this.lastAction) this.lastAction = undefined;\n        else return;\n      }\n      this.relay(\"STATE\", filterStagedActions(liftedState, this.filters));\n    }\n  }\n\n  enhance = (options: Options<S, A> = {}): StoreEnhancer => {\n    this.init(options);\n    const realtime =\n      typeof options.realtime === \"undefined\" || options.realtime;\n\n    const maxAge = options.maxAge || 30;\n    return ((next: StoreEnhancerStoreCreator) => {\n      return (reducer: Reducer<S, A>, initialState: S | undefined) => {\n        this.store = configureStore(next, this.monitorReducer, {\n          maxAge,\n          trace: options.trace,\n          traceLimit: options.traceLimit,\n          shouldCatchErrors: !!this.sendOnError,\n          shouldHotReload: options.shouldHotReload,\n          shouldRecordChanges: options.shouldRecordChanges,\n          shouldStartLocked: options.shouldStartLocked,\n          pauseActionType: options.pauseActionType || \"@@PAUSED\",\n        })(reducer, initialState);\n\n        if (realtime) this.start();\n        this.store.subscribe(() => {\n          if (this.isMonitored)\n            this.handleChange(\n              this.store.getState(),\n              this.getLiftedStateRaw(),\n              maxAge,\n            );\n        });\n        return this.store;\n      };\n    }) as any;\n  };\n}\n\nexport default <S, A extends Action<string>>(\n  options?: Options<S, A>,\n): StoreEnhancer => new DevToolsEnhancer<S, A>().enhance(options);\n\nconst compose =\n  (options: Options<unknown, Action<string>>) =>\n  (...funcs: StoreEnhancer[]) =>\n  (...args: unknown[]) => {\n    const devToolsEnhancer = new DevToolsEnhancer();\n\n    function preEnhancer(createStore: StoreEnhancerStoreCreator) {\n      return <S, A extends Action<string>>(\n        reducer: Reducer<S, A>,\n        preloadedState: S | undefined,\n      ) => {\n        devToolsEnhancer.store = createStore(reducer, preloadedState) as any;\n        return {\n          ...devToolsEnhancer.store,\n          dispatch: (action: Action<string>) =>\n            devToolsEnhancer.locked\n              ? action\n              : devToolsEnhancer.store.dispatch(action),\n        };\n      };\n    }\n\n    return [preEnhancer, ...funcs].reduceRight(\n      (composed, f) => f(composed) as any,\n      devToolsEnhancer.enhance(options)(\n        ...(args as [StoreEnhancerStoreCreator]),\n      ),\n    );\n  };\n\nexport function composeWithDevTools(\n  ...funcs: [Options<unknown, Action<string>>] | StoreEnhancer[]\n) {\n  if (funcs.length === 0) {\n    return new DevToolsEnhancer().enhance();\n  }\n  if (funcs.length === 1 && typeof funcs[0] === \"object\") {\n    return compose(funcs[0]);\n  }\n  return compose({})(...(funcs as StoreEnhancer[]));\n}\n"]}